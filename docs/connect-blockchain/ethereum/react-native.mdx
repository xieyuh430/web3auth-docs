---
title: Integrate Web3Auth with the Ethereum Blockchain in React Native
sidebar_label: React Native
image: "content-hub/guides/banners/ethereum.png"
displayed_sidebar: docs
keywords: [react-native, ethereum, web3auth, authentication, blockchain]
description: "Integrate Web3Auth with the Ethereum Blockchain in React Native | Documentation - Web3Auth"
---

import InstallationSnippet from "@site/src/common/docs/_evm-installation.mdx";
import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

While using the Web3Auth React Native SDK, you get the private key within the user scope. This private key can interact with
[Ethereum](https://ethereum.org/) to make any blockchain calls, like getting the user's `account`, fetch `balance`, `sign transaction`,
`send transaction`, `read` from and `write` to the smart contract, etc. We have highlighted a few here to get you started quickly on that.

:::info

We have made this reference for `Ethereum`, however, this can work with all other EVM-compatible chains similarly.

:::

:::note

For other blockchains, the implementation flow remains similar to the corresponding packages available from their side to make the respective
blockchain calls.

:::

## Installation

To interact with the Ethereum blockchain in React Native, you can use any [`EIP1193`](https://eips.ethereum.org/EIPS/eip-1193) compatible package like
[`web3.js`](https://web3js.readthedocs.io/en/v1.2.8/getting-started.html), [`ethers.js`](https://docs.ethers.io/v5/getting-started/) etc.

In this reference, we're using `ethers.js` to demonstrate how to make blockchain calls using it with Web3Auth.

- Install the `ethers.js` package using `npm` or `yarn`:

```bash npm2yarn
npm install shims
```

- Import the packages and shims into your codebase:

```tsx
// Import the required shims
//highlight-next-line
import "@ethersproject/shims";

// Import the ethers library
//highlight-next-line
import { ethers } from "ethers";
```

:::info

We have followed [this guide](https://docs.ethers.io/v4/cookbook-react.html) to set up the `ethers.js` package in React Native.

:::

## Initialize

<Tabs
 defaultValue="pnp"
  values={[
    { label: "PnP React Native SDK", value: "pnp", },
    { label: "SFA React Native SDK", value: "sfa", },
  ]}
>
<TabItem
  value="pnp"
>

```typescript
import * as WebBrowser from "@toruslabs/react-native-web-browser";
import EncryptedStorage from "react-native-encrypted-storage";
import Web3Auth, { LOGIN_PROVIDER, OPENLOGIN_NETWORK, OpenloginUserInfo } from "@web3auth/react-native-sdk";
import "@ethersproject/shims";
import { ethers } from "ethers";
import { EthereumPrivateKeyProvider } from "@web3auth/ethereum-provider";

const clientId = "BPi5PB_UiIZ-cPz1GtV5i1I2iOSOHuimiXBI0e-Oe_u6X3oVAbCiAZOTEBtTXw4tsluTITPqA8zMsfxIKMjiqNQ"; // get from https://dashboard.web3auth.io

const chainConfig = {
  chainId: "0x1",
  rpcTarget: "https://rpc.ankr.com/eth",
  displayName: "mainnet",
  blockExplorer: "https://etherscan.io/",
  ticker: "ETH",
  tickerName: "Ethereum",
};

const ethereumPrivateKeyProvider = new EthereumPrivateKeyProvider({
  config: {
    chainConfig,
  },
});

const web3auth = new Web3Auth(WebBrowser, EncryptedStorage, {
  clientId,
  network: OPENLOGIN_NETWORK.SAPPHIRE_MAINNET, // or other networks
});

await web3auth.init();

if (web3auth.privKey) {
  await ethereumPrivateKeyProvider.setupProvider(web3auth.privKey);
}

await web3auth.login({
  loginProvider: LOGIN_PROVIDER.GOOGLE,
  redirectUrl: resolvedRedirectUrl,
});
```

</TabItem>

<TabItem
  value="sfa"
>

```typescript
import EncryptedStorage from "react-native-encrypted-storage";
import "@ethersproject/shims";
import Web3Auth from "@web3auth/single-factor-auth-react-native";
import { EthereumPrivateKeyProvider } from "@web3auth/ethereum-provider";
import { ethers } from "ethers";

const clientId = "BPi5PB_UiIZ-cPz1GtV5i1I2iOSOHuimiXBI0e-Oe_u6X3oVAbCiAZOTEBtTXw4tsluTITPqA8zMsfxIKMjiqNQ"; // get from https://dashboard.web3auth.io

const verifier = "w3a-firebase-demo";

const chainConfig = {
  chainId: "0x1", // Please use 0x1 for Mainnet
  rpcTarget: "https://rpc.ankr.com/eth",
  displayName: "Ethereum Mainnet",
  blockExplorer: "https://etherscan.io/",
  ticker: "ETH",
  tickerName: "Ethereum",
};

const web3auth = new Web3Auth(EncryptedStorage, {
  clientId, // Get your Client ID from Web3Auth Dashboard
  web3AuthNetwork: "sapphire_mainnet",
});

const privateKeyProvider = new EthereumPrivateKeyProvider({
  config: { chainConfig },
});

await web3auth.init(privateKeyProvider);

await web3auth!.connect({
  verifier, // e.g. `web3auth-sfa-verifier` replace with your verifier name, and it has to be on the same network passed in init().
  verifierId, // e.g. `Yux1873xnibdui` or `name@email.com` replace with your verifier id(sub or email)'s value.
  idToken, // get it from your login provider, e.g. firebase, auth0, etc.
});
```

</TabItem>
</Tabs>

## Get User Info

You get the user information after a successful login is returned from the `login` method. The `userInfo` object contains the user information,
whereas the `privKey` object contains the private key which can be used to make blockchain calls.

```tsx
//highlight-start
const info = web3auth.userInfo(); // User Information
const key = web3auth.privKey(); // User's Private Key
//highlight-end
```

## Get Account

```tsx
// For ethers v5
// const ethersProvider = new ethers.providers.Web3Provider(this.provider);
const ethersProvider = new ethers.BrowserProvider(provider!);

// For ethers v5
// const signer = ethersProvider.getSigner();
const signer = await ethersProvider.getSigner();

// Get user's Ethereum public address
const address = signer.getAddress();
uiConsole(address);
```

## Get Balance

```tsx
// For ethers v5
// const ethersProvider = new ethers.providers.Web3Provider(this.provider);
const ethersProvider = new ethers.BrowserProvider(provider!);

// For ethers v5
// const signer = ethersProvider.getSigner();
const signer = await ethersProvider.getSigner();

// Get user's Ethereum public address
const address = signer.getAddress();

// Get user's balance in ether
// For ethers v5
// const balance = ethers.utils.formatEther(
// await ethersProvider.getBalance(address) // Balance is in wei
// );
const balance = ethers.formatEther(
  await ethersProvider.getBalance(address), // Balance is in wei
);
```

## Send Transaction

```tsx
const ethersProvider = ethers.getDefaultProvider(providerUrl);
const wallet = new ethers.Wallet(key, ethersProvider);

const destination = "0x40e1c367Eca34250cAF1bc8330E9EddfD403fC56";

// Convert 1 ether to wei
const amount = ethers.utils.parseEther("0.001");

// Submit transaction to the blockchain
//highlight-start
const tx = await wallet.sendTransaction({
  to: destination,
  value: amount,
  maxPriorityFeePerGas: "5000000000", // Max priority fee per gas
  maxFeePerGas: "6000000000000", // Max fee per gas
});
//highlight-end
```

## Sign a message

```tsx
// For ethers v5
// const ethersProvider = new ethers.providers.Web3Provider(this.provider);
const ethersProvider = new ethers.BrowserProvider(provider!);

// For ethers v5
// const signer = ethersProvider.getSigner();
const signer = await ethersProvider.getSigner();
const originalMessage = "YOUR_MESSAGE";

// Sign the message
const signedMessage = await signer.signMessage(originalMessage);
```
